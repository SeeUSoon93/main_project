CREATE TABLE "MEMBER" (
	"nickName"	varchar2(100)		NOT NULL,
	"email"	varchar2(200)		UNIQUE NOT NULL,
	"gender"	varchar2(10)		NULL,
	"age"	varchar2(10)		NULL
);

CREATE TABLE "MEMBER_LIKE" (
	"nickName"	varchar2(100)		NOT NULL,
	"recipeNum"	varchar2(100)		NOT NULL
);

CREATE TABLE "RECIPE" (
	"recipeNum"	varchar2(100)		NOT NULL,
	"recipeCode"	varchar2(100)	DEFAULT 'CH001'	NOT NULL,
	"recipeName"	varchar2(300)		NOT NULL,
	"cockAlc"	            number		            NOT NULL,
	"cockBase"	varchar2(300)		NOT NULL,
	"cockInfo"	varchar2(999)		NOT NULL,
	"cockRec"	varchar2(999)		NOT NULL,
	"nickName"	varchar2(100)		NOT NULL
);

CREATE TABLE "BOARD" (
	"boardNum"	varchar2(100)		NOT NULL,
	"boardTitle"	varchar2(500)		NOT NULL,
	"boardCate"	varchar2(100)		NOT NULL,
	"boardDate"	date	DEFAULT sysdate	NOT NULL,
	"boardGood"	number	DEFAULT 0	NOT NULL,
	"boardText"	varchar2(4000)		NOT NULL,
	"nickName"	varchar2(100)		NOT NULL
);

CREATE TABLE "BOARD_REPLE" (
	"repleNo"	varchar2(100)		NOT NULL,
	"repleCon"	varchar2(999)		NOT NULL,
	"repleTime"	date	DEFAULT sysdate	NOT NULL,
	"boardNum"	varchar2(100)		NOT NULL,
	"nickName"	varchar2(100)		NOT NULL
);

CREATE TABLE "TB_IMG" (
	"imgNum"	varchar2(100)		NOT NULL,
	"boardNum"	varchar2(100)		NULL,
	"recipeNum"	varchar2(100)		NULL,
	"imgPath"	varchar2(999)		NULL,
	"imgDate"	date	DEFAULT sysdate	NOT NULL
);

CREATE TABLE "RECIPE_REPLE" (
	"repleNo"	varchar2(100)		NOT NULL,
	"repleCon"	varchar2(999)		NOT NULL,
	"repleTime"	date	DEFAULT sysdate	NOT NULL,
	"recipeNum"	varchar2(100)		NOT NULL,
	"nickName"	varchar2(100)		NOT NULL
);

CREATE TABLE "BOOKMARK" (
	"nickName"	varchar2(100)		NOT NULL,
	"recipeNum"	varchar2(100)		NOT NULL
);

CREATE TABLE "INGREMENT" (
	"ingreNum"	varchar2(100)		NOT NULL,
	"recipeNum"	varchar2(100)		NOT NULL,
	"ingreName"	varchar2(100)		NOT NULL,
	"volume"	            varchar2(100)		NOT NULL
);

ALTER TABLE "MEMBER" ADD CONSTRAINT "PK_MEMBER" PRIMARY KEY (
	"nickName"
);
ALTER TABLE "RECIPE" ADD CONSTRAINT "PK_RECIPE" PRIMARY KEY (
	"recipeNum"
);

ALTER TABLE "BOARD" ADD CONSTRAINT "PK_BOARD" PRIMARY KEY (
	"boardNum"
);

ALTER TABLE "BOARD_REPLE" ADD CONSTRAINT "PK_BOARD_REPLE" PRIMARY KEY (
	"repleNo"
);

ALTER TABLE "TB_IMG" ADD CONSTRAINT "PK_TB_IMG" PRIMARY KEY (
	"imgNum"
);

ALTER TABLE "RECIPE_REPLE" ADD CONSTRAINT "PK_RECIPE_REPLE" PRIMARY KEY (
	"repleNo"
);

ALTER TABLE "BOOKMARK" ADD CONSTRAINT "PK_BOOKMARK" PRIMARY KEY (
	"nickName",
	"recipeNum"
);

ALTER TABLE "INGREMENT" ADD CONSTRAINT "PK_INGREMENT" PRIMARY KEY (
	"ingreNum"
);

ALTER TABLE "MEMBER_LIKE" ADD CONSTRAINT "FK_MEMBER_TO_LIKE_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "MEMBER_LIKE" ADD CONSTRAINT "FK_RECIPE_TO_LIKE_1" FOREIGN KEY (
	"recipeNum"
)
REFERENCES "RECIPE" (
	"recipeNum"
)ON DELETE CASCADE;

ALTER TABLE "RECIPE" ADD CONSTRAINT "FK_MEMBER_TO_RECIPE_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "BOARD" ADD CONSTRAINT "FK_MEMBER_TO_BOARD_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "BOARD_REPLE" ADD CONSTRAINT "FK_BOARD_TO_BOARD_REPLE_1" FOREIGN KEY (
	"boardNum"
)
REFERENCES "BOARD" (
	"boardNum"
) ON DELETE CASCADE;

ALTER TABLE "BOARD_REPLE" ADD CONSTRAINT "FK_MEMBER_TO_BOARD_REPLE_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "RECIPE_REPLE" ADD CONSTRAINT "FK_RECIPE_TO_RECIPE_REPLE_1" FOREIGN KEY (
	"recipeNum"
)
REFERENCES "RECIPE" (
	"recipeNum"
) ON DELETE CASCADE;

ALTER TABLE "RECIPE_REPLE" ADD CONSTRAINT "FK_MEMBER_TO_RECIPE_REPLE_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "BOOKMARK" ADD CONSTRAINT "FK_MEMBER_TO_BOOKMARK_1" FOREIGN KEY (
	"nickName"
)
REFERENCES "MEMBER" (
	"nickName"
) ON DELETE CASCADE;

ALTER TABLE "BOOKMARK" ADD CONSTRAINT "FK_RECIPE_TO_BOOKMARK_1" FOREIGN KEY (
	"recipeNum"
)
REFERENCES "RECIPE" (
	"recipeNum"
) ON DELETE CASCADE;

ALTER TABLE "INGREMENT" ADD CONSTRAINT "FK_RECIPE_TO_INGREMENT_1" FOREIGN KEY (
	"recipeNum"
)
REFERENCES "RECIPE" (
	"recipeNum"
) ON DELETE CASCADE;

